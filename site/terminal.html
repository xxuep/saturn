<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home</title>
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Tiny5&display=swap" rel="stylesheet">
<style>
:root{
--sidebar-width:260px;
--sidebar-closed:0px;
}
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:"Tiny5", sans-serif;
}
body{
height:100vh;
color:white;
overflow:hidden;
}
.bg{
position:fixed;
inset:-10%;
background:url("https://raw.githubusercontent.com/xxuep/saturn/main/image.jpg") center/110% no-repeat;
animation:bgmove 40s ease-in-out infinite alternate;
z-index:-2;
transition:background .4s ease;
}
@keyframes bgmove{
0%{transform:scale(1.1) translate(0,0)}
100%{transform:scale(1.15) translate(-3%,2%)}
}
.overlay{
position:fixed;
inset:0;
background:rgba(5,5,10,.65);
z-index:-1;
}
.layout{
display:flex;
height:100%;
}
.sidebar{
width:var(--sidebar-width);
background:linear-gradient(#555,#888);
backdrop-filter:blur(14px);
border-right:1px solid rgba(255,255,255,.08);
padding:24px;
display:flex;
flex-direction:column;
gap:16px;
transition:width .35s ease;
overflow:hidden;
z-index: 10;
}
.sidebar.closed{
width:var(--sidebar-closed);
padding:0;
}
.sidebar h1{
font-size:22px;
font-weight:800;
white-space:nowrap;
}
.side-btn{
padding:14px;
border-radius:14px;
background:linear-gradient(#111,#444);
cursor:pointer;
transition:.2s;
white-space:nowrap;
}
.side-btn:hover{
transform:translateX(4px);
background:rgba(255,255,255,.15);
}
.content{
flex:1;
padding:50px 60px;
transition:all .35s ease;
overflow:auto;
position: relative;
display: flex;
flex-direction: column;
}

#app-frame {
    display: none;
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 12px;
    background: white;
    flex: 1;
}

#frame-controls {
    display: none;
    gap: 10px;
    margin-bottom: 20px;
}

.toggle{
font-size:26px;
cursor:pointer;
width:fit-content;
margin-bottom:30px;
user-select:none;
}
.title{
font-size:48px;
font-weight:800;
margin-bottom:30px;
}
.search-box{
max-width:600px;
margin-bottom:40px;
}
.search-box input{
width:100%;
padding:18px 22px;
border-radius:18px;
border:none;
outline:none;
background:rgba(255,255,255,.12);
color:white;
font-size:18px;
}
.status{
margin-top:10px;
font-size:14px;
opacity:.75;
}
.apps{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
gap:26px;
}
.app{
aspect-ratio:1/1;
border-radius:22px;
position:relative;
cursor:pointer;
background-size:cover;
background-position:center;
overflow:hidden;
transition:.25s;
}
.app::after{
content:"";
position:absolute;
inset:0;
background:linear-gradient(to top,rgba(0,0,0,.6),transparent);
}
.app:hover{
transform:translateY(-8px) scale(1.02);
box-shadow:0 30px 60px rgba(0,0,0,.5);
}
.app span{
position:absolute;
bottom:16px;
left:16px;
z-index:1;
}
#musicToggle{
position:fixed;
bottom:18px;
right:18px;
width:42px;
height:42px;
display:flex;
align-items:center;
justify-content:center;
font-size:22px;
background:rgba(0,0,0,0.7);
color:white;
border:1px solid rgba(255,255,255,0.4);
cursor:pointer;
z-index:99999;
user-select:none;
transition:background .3s ease,color .3s ease,transform .2s ease;
}
#musicToggle:hover{
background:white;
color:black;
transform:scale(1.08);
}
#musicToggle.playing{
box-shadow:0 0 12px rgba(255,255,255,.6);
}
#gear{
position:fixed;
top:18px;
right:18px;
font-size:26px;
cursor:pointer;
z-index:99999;
}
#settings{
position:fixed;
inset:0;
background:rgba(0,0,0,.45);
display:flex;
align-items:stretch;
justify-content:flex-end;
opacity:0;
pointer-events:none;
transition:opacity .28s ease;
z-index:99998;
}
#settings.open{
opacity:1;
pointer-events:auto;
}
.settings-wrap{
width:740px;
max-width:100%;
height:100%;
transform:translateX(100%);
transition:transform .35s cubic-bezier(.2,.9,.2,1);
display:flex;
}
#settings.open .settings-wrap{
transform:translateX(0);
}
.settings-side{
width:220px;
background:rgba(20,20,30,.95);
padding:20px;
display:flex;
flex-direction:column;
gap:12px;
}
.settings-main{
flex:1;
padding:40px;
overflow:auto;
background:linear-gradient(180deg, rgba(10,10,14,0.98), rgba(8,8,12,0.98));
}
.settings-btn{
padding:14px;
border-radius:12px;
background:rgba(255,255,255,.06);
cursor:pointer;
}
.settings-btn.active{
background:white;
color:black;
}
.opt{
margin-bottom:20px;
padding:16px;
background:rgba(255,255,255,.03);
border-radius:14px;
cursor:pointer;
}
.switch{
display:flex;
align-items:center;
gap:12px;
}
input{
background:black;
color:white;
border:none;
padding:8px;
border-radius:8px;
}
.wall-list{
display:flex;
flex-direction:column;
gap:10px;
}
.wall-item{
display:flex;
align-items:center;
justify-content:space-between;
gap:12px;
padding:12px;
border-radius:10px;
background:rgba(255,255,255,0.03);
cursor:pointer;
}
.wall-thumb{
width:64px;
height:48px;
background-size:cover;
background-position:center;
border-radius:8px;
flex-shrink:0;
}
.song-list{
display:flex;
flex-direction:column;
gap:10px;
}
.song-item{
display:flex;
align-items:center;
justify-content:space-between;
gap:12px;
padding:12px;
border-radius:10px;
background:rgba(255,255,255,0.03);
}
.song-controls{
display:flex;
gap:8px;
align-items:center;
}
.custom-checkbox{
width:44px;
height:26px;
background:rgba(255,255,255,0.08);
border-radius:999px;
position:relative;
cursor:pointer;
display:inline-block;
}
.custom-checkbox .knob{
width:20px;
height:20px;
background:white;
border-radius:50%;
position:absolute;
top:3px;
left:3px;
transition:all .18s ease;
}
.custom-checkbox.on{
background:linear-gradient(90deg,#4caf50,#2ecc71);
}
.custom-checkbox.on .knob{
left:21px;
}
.key-display{
padding:10px 12px;
border-radius:8px;
background:rgba(255,255,255,0.04);
display:inline-block;
min-width:120px;
text-align:center;
}
.assign-btn{
padding:10px 12px;
border-radius:8px;
background:white;
color:black;
cursor:pointer;
border:none;
}
.tab-choices{
display:flex;
gap:10px;
flex-wrap:wrap;
}
.tab-choice{
padding:8px 12px;
border-radius:8px;
background:rgba(255,255,255,0.04);
cursor:pointer;
}
.list-selected{
outline:2px solid rgba(255,255,255,0.12);
}
.capture-overlay{
position:fixed;
inset:0;
display:none;
z-index:100000;
align-items:center;
justify-content:center;
backdrop-filter: blur(4px);
background: rgba(0,0,0,0.6);
}
.capture-box{
padding:24px;
background:rgba(10,10,14,0.95);
border-radius:12px;
text-align:center;
}
.hint{
opacity:.8;
margin-top:12px;
font-size:14px;
}
</style>
</head>

<body>

<div class="bg" id="bg"></div>
<div class="overlay"></div>

<div id="gear">‚öô</div>

<div id="settings" aria-hidden="true">
<div class="settings-wrap">
<div class="settings-side">
<div class="settings-btn active" data-page="0">Wallpaper</div>
<div class="settings-btn" data-page="1">Music</div>
<div class="settings-btn" data-page="2">Panic</div>
<div class="settings-btn" data-page="3">Font</div>
</div>
<div class="settings-main" id="settingsMain"></div>
</div>
</div>

<div class="layout">

<aside class="sidebar closed" id="sidebar">
    <h1>S4turn v3</h1>
    <div class="side-btn" onclick="goHome()">Home</div>
    <div class="side-btn" onclick="openApp('https://sites.google.com/gse.cusd80.com/s4turnv3-private-build-v0-0-1/main-344635465/games')">Games</div>
    <div class="side-btn" onclick="openApp('https://google.com')">Settings</div>
    <div class="side-btn" onclick="openApp('https://github.com')">Profile</div>
</aside>

<main class="content">
<div class="toggle" onclick="document.getElementById('sidebar').classList.toggle('closed')">‚ò∞</div>

<div id="frame-controls">
    <button class="assign-btn" onclick="goHome()">‚Üê Back Home</button>
    <button class="assign-btn" id="open-external" onclick="">Open in New Tab</button>
</div>

<div id="main-menu">
    <div class="title">S4turn V3 : Terminal</div>

    <div class="search-box">
    <input type="text" placeholder="search or enter url..." onkeydown="if(event.key==='Enter') openApp(this.value)">
    <div class="status">Proxy Status: üî¥ Offline (ixl.works is blocked)</div>
    </div>

    <section class="apps">
    <div class="app" style="background-image:url('https://raw.githubusercontent.com/xxuep/games/main/Untitled731_20251218145131.png')" onclick="openApp('https://google.com')"><span>Games</span></div>
    <div class="app" style="background-image:url('https://raw.githubusercontent.com/xxuep/games/main/music/Untitled732_20251218184220.png')" onclick="openApp('https://github.com')"><span>Music</span></div>
    <div class="app" style="background-image:url('https://raw.githubusercontent.com/xxuep/games/main/movies/Untitled730_20251218144312.png')" onclick="openApp('https://stackoverflow.com')"><span>Movies</span></div>
    <div class="app" style="background-image:url('https://raw.githubusercontent.com/xxuep/games/main/web/Untitled746_20251231140428.png')" onclick="openApp('https://discord.com')"><span>Contributors</span></div>
    <div class="app" style="background-image:url('https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4')" onclick="openApp('https://spotify.com')"><span>Music</span></div>
    <div class="app" style="background-image:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee')" onclick="openApp('https://google.com')"><span>Settings</span></div>
    </section>
</div>

<iframe id="app-frame" src=""></iframe>
</main>

<div id="musicToggle">‚ô™</div>
<audio id="bgMusic" loop></audio>

<div class="capture-overlay" id="captureOverlay">
<div class="capture-box">
<div style="font-size:20px;font-weight:700">Press the key combination now</div>
<div class="hint">Use Ctrl/Shift/Alt + a key</div>
<div style="margin-top:12px"><button class="assign-btn" onclick="cancelCapture()">Cancel</button></div>
</div>
</div>

<script>
const mainMenu = document.getElementById("main-menu");
const appFrame = document.getElementById("app-frame");
const frameControls = document.getElementById("frame-controls");
const externalBtn = document.getElementById("open-external");

function openApp(url) {
    if(!url) return;
    if(!url.startsWith('http')) url = 'https://' + url;
    mainMenu.style.display = "none";
    appFrame.style.display = "block";
    frameControls.style.display = "flex";
    externalBtn.onclick = () => window.open(url, '_blank');
    appFrame.src = url;
}

function goHome() {
    appFrame.style.display = "none";
    frameControls.style.display = "none";
    appFrame.src = "";
    mainMenu.style.display = "block";
}

const gear=document.getElementById("gear")
const settings=document.getElementById("settings")
const settingsMain=document.getElementById("settingsMain")
const bg=document.getElementById("bg")
const music=document.getElementById("bgMusic")
const captureOverlay=document.getElementById("captureOverlay")
const musicToggleBtn=document.getElementById("musicToggle")
const sideButtons = document.querySelectorAll(".settings-side .settings-btn")

const wallpapers=[
{name:"S4turn V2", url:"https://raw.githubusercontent.com/xxuep/saturn/main/image.jpg"},
{name:"S4turn V1", url:"https://raw.githubusercontent.com/xxuep/saturn/main/icons/og%20s4turn%20project%20s4turn%20wallpaper.jpg"},
{name:"Just Saturn", url:"https://raw.githubusercontent.com/xxuep/saturn/main/icons/saturnotherwallpaper.jpg"},
{name:"Lizz", url:"https://raw.githubusercontent.com/xxuep/lizz/main/cool%20rog%20design%20ylk.gif"}
]

const songs=[
{name:"Space Ambience", url:"https://raw.githubusercontent.com/xxuep/saturn/main/music/10%20minute%20Space%20Ambient%20Music%20with%20Deep%20Relaxation%20%20Meditation%204K%20%20Space%20music%20%20Space%20Galaxy%20-%20Relaxing%20Music%20with%20a%20Beautiful%20View.mp3"},
{name:"Odyssey's Trash", url:"https://raw.githubusercontent.com/xxuep/saturn/main/music/Odyssey's%20Trash.mp3"},
{name:"Less Than Zero - Weeknd", url:"https://raw.githubusercontent.com/xxuep/saturn/main/music/The%20Weeknd%20-%20Less%20Than%20Zero%20(Audio)%20-%20TheWeekndVEVO.mp3"}
]

const fontOptions = [
  { name: "S4turn V3", cssName: "Tiny5", family: "'Tiny5', sans-serif" },
  { name: "S4turn V2", cssName: "Pixelify Sans", family: "'Pixelify Sans', sans-serif" },
  { name: "S4turn V1", cssName: "Bungee", family: "'Bungee', cursive" },
  { name: "Verdana", cssName: "Verdana", family: "Verdana, sans-serif" },
  { name: "Georgia", cssName: "Georgia", family: "Georgia, serif" }
];

let panicOn=false
let panicKeyObj={ctrl:false,shift:false,alt:false,key:"x"}
let panicTab="https://google.com"
let listening=false
let selectedWallpaperIndex=0
let selectedSongIndex=0
let currentFont="'Tiny5', sans-serif"

function openSettings(){ settings.classList.add("open"); page(0); }
function closeSettings(){ settings.classList.remove("open"); }
gear.onclick=()=>settings.classList.contains("open")?closeSettings():openSettings()
settings.onclick=(e)=>{ if(e.target===settings) closeSettings(); }

sideButtons.forEach(btn=>{
btn.onclick=()=>{
const p = Number(btn.getAttribute("data-page"))
page(p)
}
})

function page(i){
sideButtons.forEach((b,n)=>b.classList.toggle("active",n===i))
if(i===0) settingsMain.innerHTML=renderWallpapers()
if(i===1) settingsMain.innerHTML=renderSongs()
if(i===2) settingsMain.innerHTML=renderPanic()
if(i===3) settingsMain.innerHTML=renderFontSettings()
}

function renderFontSettings(){
  let s = `<div style="display:flex;flex-direction:column;gap:12px"><div style="font-weight:700">Choose Font</div>`;
  fontOptions.forEach(f=>{
    const sel = f.family === currentFont ? "list-selected" : "";
    s += `<div class="tab-choice ${sel}" onclick="setFont('${f.cssName}', '${f.family}')">${f.name}</div>`;
  });
  s += `</div>`;
  return s;
}

function setFont(cssName, family){
  currentFont = family;
  let existing = document.getElementById("fontOverride");
  if(!existing){
    existing = document.createElement("style");
    existing.id = "fontOverride";
    document.head.appendChild(existing);
  }
  existing.textContent = `html, body, *, *::before, *::after, input, button { font-family: ${family} !important; }`;
  page(3);
}

function renderWallpapers(){
let s=`<div class="wall-list">`
wallpapers.forEach((w,i)=>{
const sel = i===selectedWallpaperIndex ? "list-selected" : ""
s+=`<div class="wall-item ${sel}" onclick="selectWallpaper(${i})">
<div style="display:flex;align-items:center;gap:12px">
<div class="wall-thumb" style="background-image:url('${w.url}')"></div>
<div style="font-weight:700">${w.name}</div>
</div>
<button class="assign-btn" onclick="applyWallpaper(event,${i})">Use</button>
</div>`
})
s+=`</div>`
return s
}

function renderSongs(){
let s=`<div class="song-list">`
songs.forEach((snd,i)=>{
const sel = i===selectedSongIndex ? "list-selected" : ""
s+=`<div class="song-item ${sel}">
<div style="font-weight:700">${snd.name}</div>
<button class="assign-btn" onclick="setSong(event,${i})">Play</button>
</div>`
})
s+=`</div>`
return s
}

function renderPanic(){
let chk = panicOn ? "custom-checkbox on" : "custom-checkbox"
let s=`<div style="display:flex;flex-direction:column;gap:12px">
<div style="display:flex;align-items:center;gap:12px">
<div class="${chk}" onclick="togglePanic()"><div class="knob"></div></div>
<div style="font-weight:700">Panic Switch</div>
</div>
<div style="display:flex;gap:12px;align-items:center">
<div class="key-display">${formatKeyDisplay(panicKeyObj)}</div>
<button class="assign-btn" onclick="startCapture()">Assign</button>
</div>
</div>`
return s
}

function formatKeyDisplay(k){
let p=[]; if(k.ctrl) p.push("Ctrl"); if(k.shift) p.push("Shift"); if(k.alt) p.push("Alt")
if(k.key) p.push(k.key.toUpperCase()); return p.length?p.join("+"):"None";
}

function selectWallpaper(i){ selectedWallpaperIndex=i; page(0); }
function applyWallpaper(e,i){ e.stopPropagation(); bg.style.background=`url('${wallpapers[i].url}') center/110% no-repeat`; selectWallpaper(i); }
function setSong(e,i){ e.stopPropagation(); music.src=songs[i].url; music.play(); selectedSongIndex=i; page(1); }
function togglePanic(){ panicOn=!panicOn; page(2); }
function startCapture(){ listening=true; captureOverlay.style.display="flex"; window.addEventListener("keydown",captureHandler); }
function cancelCapture(){ listening=false; captureOverlay.style.display="none"; window.removeEventListener("keydown",captureHandler); }
function captureHandler(e){ e.preventDefault(); if(["Control","Shift","Alt"].includes(e.key)) return; 
panicKeyObj={ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,key:e.key.toLowerCase()}; cancelCapture(); page(2); }

(function init(){
  bg.style.background=`url('${wallpapers[0].url}') center/110% no-repeat`;
  setFont('Tiny5', "'Tiny5', sans-serif");
  page(0);
})();

document.addEventListener("keydown",e=>{
if(panicOn && (e.ctrlKey===!!panicKeyObj.ctrl)&&(e.shiftKey===!!panicKeyObj.shift)&&(e.altKey===!!panicKeyObj.alt)&&(e.key.toLowerCase()===panicKeyObj.key)) window.open(panicTab,"_blank");
})

musicToggleBtn.onclick=()=>{if(music.paused){music.play(); musicToggleBtn.classList.add("playing")}else{music.pause(); musicToggleBtn.classList.remove("playing")}}
</script>
</body>
</html>
